<section class="contact-area">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="contact-form">
          <div class="section-title text-center">
            <h2 class="update-profile-title">Update Profile</h2>
          </div>
          <div class="update-profile-form">
            <form
              class="contact-form-wrapper"
              name="updateProfileForm"
              enctype="multipart/form-data"
              #updateProfileForm="ngForm"
              (ngSubmit)="onSubmit()"
              *ngIf="!isSuccessful"
            >
              <div class="avatar-container">
                <input
                  type="file"
                  #fileInput
                  class="hidden"
                  (change)="selectedFile($event)"
                  accept="image/*"
                />
                <img
                  [src]="avatarSrc"
                  alt="Avatar"
                  class="avatar"
                  (click)="triggerFileInput()"
                />
                <h5 class="mb-2"><strong>Avatar</strong></h5>
                <!-- <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p> -->
              </div>

              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      id="firstName"
                      name="firstName"
                      placeholder="First Name"
                      ngModel
                    />
                  </div>
                  <div
                    class="alert alert-danger"
                    role="alert"
                    *ngIf="
                      updateProfileForm.controls['firstName']?.dirty &&
                      updateProfileForm.controls['firstName']?.errors
                    "
                  >
                    First name can't be empty and has a maximum of 20
                    characters.
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      id="lastName"
                      name="lastName"
                      placeholder="Last Name"
                      ngModel
                    />
                  </div>
                  <div
                    class="alert alert-danger"
                    role="alert"
                    *ngIf="
                      updateProfileForm.controls['lastName']?.dirty &&
                      updateProfileForm.controls['lastName']?.errors
                    "
                  >
                    Last name can't be empty and has a maximum of 20 characters.
                  </div>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="date"
                      id="dateOfBirth"
                      name="dateOfBirth"
                      placeholder="Date Of Birth"
                      ngModel
                    />
                  </div>
                </div>

                <div class="col-md-4">
                  <select
                    class="form-select _dropdown"
                    name="genders"
                    id="genders"
                    (change)="changeGender($event)"
                    required
                  >
                    <option [value]="0">Gender</option>
                    <option
                      *ngFor="let gender of genders"
                      [value]="gender.genderId"
                    >
                      {{ gender.genderName }}
                    </option>
                  </select>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      id="phoneNumber"
                      name="phoneNumber"
                      placeholder="Phone Number"
                      ngModel
                    />
                  </div>
                  <div
                    class="alert alert-danger"
                    role="alert"
                    *ngIf="
                      updateProfileForm.controls['phoneNumber']?.dirty &&
                      updateProfileForm.controls['phoneNumber']?.errors
                    "
                  >
                    Phone number must be a valid phone number.
                  </div>
                </div>

                <div class="col-md-4">
                  <select
                    class="form-select _dropdown"
                    name="cities"
                    id="cities"
                    (change)="changeCity($event)"
                    required
                  >
                    <option [value]="0">City</option>
                    <option *ngFor="let city of cities" [value]="city.cityId">
                      {{ city.cityName }}
                    </option>
                  </select>
                </div>

                <div class="col-md-4">
                  <select
                    class="form-select _dropdown"
                    name="districts"
                    id="districts"
                    (change)="changeDistrict($event)"
                    required
                    [disabled]="isDistrictsDisabled"
                  >
                    <option [value]="0">District</option>
                    <option
                      *ngFor="let district of districts"
                      [value]="district.districtId"
                    >
                      {{ district.districtName }}
                    </option>
                  </select>
                </div>

                <div class="col-md-4">
                  <select
                    class="form-select _dropdown"
                    name="wards"
                    id="wards"
                    (change)="changeWard($event)"
                    required
                    [disabled]="isWardsDisabled"
                  >
                    <option [value]="0">Ward</option>
                    <option *ngFor="let ward of wards" [value]="ward.wardId">
                      {{ ward.wardName }}
                    </option>
                  </select>
                </div>

                <div class="col-md-4">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      id="specificAddress"
                      name="specificAddress"
                      placeholder="Specific Address"
                      ngModel
                    />
                  </div>
                  <div
                    class="alert alert-danger"
                    role="alert"
                    *ngIf="
                      updateProfileForm.controls['specificAddress']?.dirty &&
                      updateProfileForm.controls['specificAddress']?.errors
                    "
                  >
                    Specific address can't be empty and has a maximum of 100
                    characters.
                  </div>
                </div>

                <div class="col-md-12 text-center">
                  <div class="form-group mb-0">
                    <button class="btn btn-theme btn-block" type="submit">
                      Save
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
