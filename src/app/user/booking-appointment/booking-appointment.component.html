<h2>Add Booking Appointment</h2>
<div class="alert alert-success" role="alert" *ngIf="isSuccessful">
  {{ successMessage }}
</div>
<div class="alert alert-danger" role="alert" *ngIf="isFailed">
  {{ errorMessage }}
</div>
<form
  class="row g-3 needs-validation"
  novalidate
  name="addBookingAppointmentForm"
  #addBookingAppointmentForm="ngForm"
  (ngSubmit)="onSubmit()"
  *ngIf="!isSuccessful"
>
  <div class="col-md-6">
    <label for="firstName" class="form-label">First Name</label>
    <input
      type="text"
      class="form-control"
      placeholder="First Name"
      id="firstName"
      name="firstName"
      ngModel
      required
    />
  </div>

  <div class="col-md-6">
    <label for="lastName" class="form-label">Last Name</label>
    <input
      type="text"
      class="form-control"
      placeholder="Last name"
      id="lastName"
      name="lastName"
      ngModel
      required
    />
  </div>

  <div class="col-md-6">
    <label for="dateOfBirth" class="form-label">Date Of Birth</label>
    <input
      type="date"
      class="form-control"
      placeholder="Date Of Birth"
      id="dateOfBirth"
      name="dateOfBirth"
      ngModel
      required
    />
  </div>

  <div class="col-md-6">
    <label for="gender" class="form-label">Gender</label>
    <select class="form-select" name="gender" id="gender" required ngModel>
      <option [value]="1">Male</option>
      <option [value]="0">Female</option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="phoneNumber" class="form-label">Phone Number</label>
    <input
      type="text"
      class="form-control"
      placeholder="Phone Number"
      id="phoneNumber"
      name="phoneNumber"
      ngModel
      required
    />
  </div>

  <div class="col-md-6">
    <label for="cities" class="form-label">Cities</label>
    <select
      class="form-select"
      name="cities"
      id="cities"
      (change)="changeCity($event)"
      required
      ngModel
    >
      <option *ngFor="let city of cities" [value]="city.cityId">
        {{ city.cityName }}
      </option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="cities" class="form-label">Districts</label>
    <select
      class="form-select"
      name="districts"
      id="districts"
      (change)="changeDistrict($event)"
      required
      ngModel
    >
      <option *ngFor="let district of districts" [value]="district.districtId">
        {{ district.districtName }}
      </option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="cities" class="form-label">Wards</label>
    <select
      class="form-select"
      name="wards"
      id="wards"
      (change)="changeWard($event)"
      required
      ngModel
    >
      <option *ngFor="let ward of wards" [value]="ward.wardId">
        {{ ward.wardName }}
      </option>
    </select>
  </div>

  <div class="col-md-12">
    <label for="specificAddress" class="form-label">Specific Address</label>
    <input
      type="text"
      class="form-control"
      placeholder="Specific Address"
      id="specificAddress"
      name="specificAddress"
      ngModel
      required
    />
  </div>

  <div class="col-md-6">
    <label for="appointmentDate" class="form-label">Appointment Date</label>
    <input
      type="date"
      class="form-control"
      placeholder="Appointment Date"
      id="appointmentDate"
      name="appointmentDate"
      ngModel
      required
    />
  </div>

  <div class="col-md-6">
    <label for="specializations" class="form-label">Specialization</label>
    <select
      class="form-select"
      name="specializations"
      id="specializations"
      (change)="changeSpecialization($event)" 
      required
      ngModel
    >
      <option
        *ngFor="let specialization of listSpecializations"
        [value]="specialization.specializationId"
      >
        {{ specialization.specializationName }}
      </option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="doctors" class="form-label">Doctors</label>
    <select
      class="form-select"
      name="doctors"
      id="doctors"
      (change)="changeDoctor($event)" 
      required
      ngModel
    >
      <option
        *ngFor="let doctor of listDoctors"
        [value]="doctor.userId"
      >
        {{ doctor.firstName +' '+doctor.lastName }}
      </option>
    </select>
  </div>

  <div class="col-md-6">
    <label for="workSchedules" class="form-label">Appointment Schedules</label>
    <select
    class="form-select"
    name="workSchedules"
    id="workSchedules"
    (change)="changeWorkSchedule($event)" 
    required
    ngModel
  >
    <option
      *ngFor="let workSchedule of workSchedules"
      [value]="workSchedule.workScheduleId"
    >
      {{ workSchedule.startTime +' - '+workSchedule.endTime }}
    </option>
  </select>
  </div>

  <div class="col-md-12">
    <label for="describeSymptoms" class="form-label">Describe Symptoms</label>
    <textarea
      class="form-control"
      placeholder="Write describe symptoms here..."
      id="describeSymptoms"
      name="describeSymptoms"
      style="height: 100px"
      ngModel
    ></textarea>
  </div>
  
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Save</button>
  </div>
</form>
